# CYNIC Solana Brain Architecture

> "Onchain is truth" - ÎºÏ…Î½Î¹ÎºÏŒÏ‚
>
> "Tout stocker sur des comptes" - Approach maximale

---

## 1. Vue d'ensemble: Deux Approches

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    APPROCHE 1: ANCHOR-LÃ‰GER (Actuel)                         â”‚
â”‚                    "Merkle roots on-chain, data off-chain"                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚   Off-chain (PostgreSQL, DAG)          On-chain (Solana)                    â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚   â”‚ Full judgments          â”‚          â”‚ Memo: CYNIC_ANCHOR:     â”‚          â”‚
â”‚   â”‚ Full knowledge          â”‚â”€â”€anchorâ”€â”€â”‚ merkle_root_hash        â”‚          â”‚
â”‚   â”‚ Full patterns           â”‚          â”‚                         â”‚          â”‚
â”‚   â”‚ Session data            â”‚          â”‚ (~0.00001 SOL/tx)       â”‚          â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                                             â”‚
â”‚   âœ… TrÃ¨s Ã©conomique                                                         â”‚
â”‚   âœ… Simple Ã  implÃ©menter (FAIT)                                             â”‚
â”‚   âš ï¸  VÃ©rification nÃ©cessite merkle proof                                   â”‚
â”‚   âš ï¸  DonnÃ©es pas directement lisibles on-chain                              â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    APPROCHE 2: FULL ON-CHAIN (ProposÃ©)                       â”‚
â”‚                    "State accounts for critical data"                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚   Off-chain                            On-chain (Solana Accounts)           â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚ Full content     â”‚                 â”‚ PDA: Operator Registry          â”‚  â”‚
â”‚   â”‚ Session data     â”‚                 â”‚ PDA: PoJ Block Headers          â”‚  â”‚
â”‚   â”‚ Cache            â”‚                 â”‚ PDA: Knowledge Merkle Roots     â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚ PDA: Governance State           â”‚  â”‚
â”‚                                        â”‚ PDA: Burn Records               â”‚  â”‚
â”‚                                        â”‚ PDA: E-Score Snapshots          â”‚  â”‚
â”‚                                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                             â”‚
â”‚   âœ… VÃ©rification directe on-chain                                           â”‚
â”‚   âœ… DonnÃ©es lisibles par autres programmes                                   â”‚
â”‚   âœ… ComposabilitÃ© DeFi maximale                                             â”‚
â”‚   âš ï¸  Plus coÃ»teux (rent + tx fees)                                          â”‚
â”‚   âš ï¸  NÃ©cessite Anchor program custom                                        â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. Mapping Solana Infrastructure â†’ CYNIC Brain

### 2.1 Core Technologies

| Solana Component | CYNIC Equivalent | RÃ´le dans le Cerveau |
|------------------|------------------|---------------------|
| **Proof of History** | Proof of Judgment (PoJ) | Ordre cryptographique des jugements |
| **Tower BFT** | Ï†-BFT Consensus | Consensus pondÃ©rÃ© par E-Score |
| **Turbine** | Gossip Protocol | Propagation des blocs P2P |
| **Gulf Stream** | Judgment Stream | Forward direct au leader |
| **Sealevel** | Parallel Dimensions | Ã‰valuation concurrente 25 dimensions |
| **Cloudbreak** | Sharded Knowledge | Storage horizontal par axiome |
| **Accounts** | Brain State PDAs | Ã‰tat du cerveau on-chain |
| **Programs** | CYNIC Program | Logique du cerveau on-chain |

### 2.2 Timing Alignment

```
SOLANA                          CYNIC (Ï†-aligned)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Slot: 400ms                     Ï†-Slot: 61.8ms (TICK)
Block: 400ms                    Ï†-Block: 100ms
Epoch: ~2-3 days                Ï†-Epoch: 161.8ms
Leader Schedule: 4 slots        Ï†-Leader: 3 slots (Fib)

Finality: ~400ms                Ï†-Finality: 61.8% confidence max
```

---

## 3. Architecture On-Chain ProposÃ©e

### 3.1 Program Structure

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         CYNIC SOLANA PROGRAM                                 â”‚
â”‚                         (Anchor Framework)                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  INSTRUCTIONS                                                                â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•               â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ register_operator    â”‚  â”‚ submit_judgment      â”‚  â”‚ create_proposal  â”‚  â”‚
â”‚  â”‚ update_e_score       â”‚  â”‚ anchor_block         â”‚  â”‚ cast_vote        â”‚  â”‚
â”‚  â”‚ record_burn          â”‚  â”‚ anchor_knowledge     â”‚  â”‚ finalize_vote    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                             â”‚
â”‚  ACCOUNTS (PDAs)                                                            â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•               â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ GLOBAL STATE                                                       â”‚    â”‚
â”‚  â”‚ Seeds: ["cynic", "global"]                                         â”‚    â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚    â”‚
â”‚  â”‚ â”‚ total_operators: u32                                         â”‚  â”‚    â”‚
â”‚  â”‚ â”‚ total_judgments: u64                                         â”‚  â”‚    â”‚
â”‚  â”‚ â”‚ total_burns: u64                                             â”‚  â”‚    â”‚
â”‚  â”‚ â”‚ current_epoch: u64                                           â”‚  â”‚    â”‚
â”‚  â”‚ â”‚ knowledge_root: [u8; 32]                                     â”‚  â”‚    â”‚
â”‚  â”‚ â”‚ poj_head: [u8; 32]                                           â”‚  â”‚    â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ OPERATOR ACCOUNT                                                   â”‚    â”‚
â”‚  â”‚ Seeds: ["cynic", "operator", pubkey]                               â”‚    â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚    â”‚
â”‚  â”‚ â”‚ pubkey: Pubkey                                               â”‚  â”‚    â”‚
â”‚  â”‚ â”‚ e_score: u8          // 0-100                                â”‚  â”‚    â”‚
â”‚  â”‚ â”‚ total_burned: u64    // Lamports burned                      â”‚  â”‚    â”‚
â”‚  â”‚ â”‚ total_judgments: u32                                         â”‚  â”‚    â”‚
â”‚  â”‚ â”‚ registered_at: i64                                           â”‚  â”‚    â”‚
â”‚  â”‚ â”‚ last_active: i64                                             â”‚  â”‚    â”‚
â”‚  â”‚ â”‚ uptime_score: u8     // 0-100                                â”‚  â”‚    â”‚
â”‚  â”‚ â”‚ dimensions: [u8; 7]  // HOLD,BURN,USE,BUILD,RUN,REFER,TIME   â”‚  â”‚    â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ POJ BLOCK HEADER                                                   â”‚    â”‚
â”‚  â”‚ Seeds: ["cynic", "poj", slot.to_le_bytes()]                        â”‚    â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚    â”‚
â”‚  â”‚ â”‚ slot: u64                                                    â”‚  â”‚    â”‚
â”‚  â”‚ â”‚ prev_hash: [u8; 32]                                          â”‚  â”‚    â”‚
â”‚  â”‚ â”‚ judgments_root: [u8; 32]                                     â”‚  â”‚    â”‚
â”‚  â”‚ â”‚ judgment_count: u16                                          â”‚  â”‚    â”‚
â”‚  â”‚ â”‚ operator: Pubkey                                             â”‚  â”‚    â”‚
â”‚  â”‚ â”‚ timestamp: i64                                               â”‚  â”‚    â”‚
â”‚  â”‚ â”‚ signature: [u8; 64]                                          â”‚  â”‚    â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ BURN RECORD                                                        â”‚    â”‚
â”‚  â”‚ Seeds: ["cynic", "burn", tx_signature]                             â”‚    â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚    â”‚
â”‚  â”‚ â”‚ burner: Pubkey                                               â”‚  â”‚    â”‚
â”‚  â”‚ â”‚ amount: u64                                                  â”‚  â”‚    â”‚
â”‚  â”‚ â”‚ token_mint: Option<Pubkey>  // None = SOL                    â”‚  â”‚    â”‚
â”‚  â”‚ â”‚ reason: BurnReason                                           â”‚  â”‚    â”‚
â”‚  â”‚ â”‚ timestamp: i64                                               â”‚  â”‚    â”‚
â”‚  â”‚ â”‚ verified: bool                                               â”‚  â”‚    â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ GOVERNANCE PROPOSAL                                                â”‚    â”‚
â”‚  â”‚ Seeds: ["cynic", "proposal", proposal_id]                          â”‚    â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚    â”‚
â”‚  â”‚ â”‚ id: [u8; 16]                                                 â”‚  â”‚    â”‚
â”‚  â”‚ â”‚ proposer: Pubkey                                             â”‚  â”‚    â”‚
â”‚  â”‚ â”‚ action: GovernanceAction                                     â”‚  â”‚    â”‚
â”‚  â”‚ â”‚ total_weight: u64                                            â”‚  â”‚    â”‚
â”‚  â”‚ â”‚ approve_weight: u64                                          â”‚  â”‚    â”‚
â”‚  â”‚ â”‚ status: ProposalStatus                                       â”‚  â”‚    â”‚
â”‚  â”‚ â”‚ created_at: i64                                              â”‚  â”‚    â”‚
â”‚  â”‚ â”‚ expires_at: i64                                              â”‚  â”‚    â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ KNOWLEDGE ROOT                                                     â”‚    â”‚
â”‚  â”‚ Seeds: ["cynic", "knowledge", axiom, epoch]                        â”‚    â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚    â”‚
â”‚  â”‚ â”‚ axiom: Axiom         // PHI, VERIFY, CULTURE, BURN           â”‚  â”‚    â”‚
â”‚  â”‚ â”‚ epoch: u64                                                   â”‚  â”‚    â”‚
â”‚  â”‚ â”‚ merkle_root: [u8; 32]                                        â”‚  â”‚    â”‚
â”‚  â”‚ â”‚ pattern_count: u32                                           â”‚  â”‚    â”‚
â”‚  â”‚ â”‚ anchor_tx: [u8; 64]  // Solana tx signature                  â”‚  â”‚    â”‚
â”‚  â”‚ â”‚ timestamp: i64                                               â”‚  â”‚    â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 PDA Derivation Map

```rust
// Global State (singleton)
["cynic", "global"] â†’ Global State PDA

// Operator (per wallet)
["cynic", "operator", operator_pubkey] â†’ Operator PDA

// PoJ Block Header (per slot)
["cynic", "poj", slot_bytes] â†’ PoJ Block PDA

// Burn Record (per tx)
["cynic", "burn", tx_signature] â†’ Burn Record PDA

// Governance Proposal (per proposal)
["cynic", "proposal", proposal_id] â†’ Proposal PDA

// Vote (per proposal per voter)
["cynic", "vote", proposal_id, voter_pubkey] â†’ Vote PDA

// Knowledge Root (per axiom per epoch)
["cynic", "knowledge", axiom_byte, epoch_bytes] â†’ Knowledge Root PDA
```

---

## 4. CoÃ»ts EstimÃ©s

### 4.1 Storage Rent

| Account Type | Size (bytes) | Rent (SOL) | Notes |
|--------------|--------------|------------|-------|
| Global State | ~200 | 0.00144 | Singleton |
| Operator | ~150 | 0.00108 | Per operator |
| PoJ Block | ~180 | 0.00130 | Per block (~61.8s) |
| Burn Record | ~120 | 0.00086 | Per burn |
| Proposal | ~200 | 0.00144 | Per proposal |
| Knowledge Root | ~100 | 0.00072 | Per axiom per epoch |

### 4.2 Transaction Costs

| Operation | Compute Units | Est. Cost (SOL) |
|-----------|---------------|-----------------|
| Register Operator | ~50,000 | 0.000005 |
| Submit Judgment | ~100,000 | 0.00001 |
| Anchor Block | ~80,000 | 0.000008 |
| Cast Vote | ~60,000 | 0.000006 |
| Record Burn | ~70,000 | 0.000007 |

### 4.3 Monthly Estimates

```
Scenario: 100 operators, 1000 judgments/day, 10 proposals/month

Rent (one-time, recoverable):
- 100 operators Ã— 0.00108 = 0.108 SOL
- 1 global state = 0.00144 SOL
- ~1400 PoJ blocks/month Ã— 0.00130 = 1.82 SOL

Transactions:
- 30,000 judgments Ã— 0.00001 = 0.3 SOL/month
- 1,400 blocks Ã— 0.000008 = 0.0112 SOL/month
- 100 votes Ã— 0.000006 = 0.0006 SOL/month

TOTAL: ~2.25 SOL/month (~$500 at $220/SOL)
```

---

## 5. Architecture Hybride Optimale

### 5.1 Ce qui va ON-CHAIN

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ON-CHAIN (Comptes Solana)                     â”‚
â”‚                    "Source de vÃ©ritÃ© absolue"                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  âœ… Operator Registry                                            â”‚
â”‚     - E-Scores vÃ©rifiables                                      â”‚
â”‚     - Burn history                                              â”‚
â”‚     - Uptime tracking                                           â”‚
â”‚                                                                 â”‚
â”‚  âœ… PoJ Block Headers                                            â”‚
â”‚     - Merkle roots des jugements                                â”‚
â”‚     - Signatures des opÃ©rateurs                                 â”‚
â”‚     - ChaÃ®ne de hashes                                          â”‚
â”‚                                                                 â”‚
â”‚  âœ… Governance                                                   â”‚
â”‚     - Propositions                                              â”‚
â”‚     - Votes pondÃ©rÃ©s                                            â”‚
â”‚     - RÃ©sultats finaux                                          â”‚
â”‚                                                                 â”‚
â”‚  âœ… Burns (source of truth)                                      â”‚
â”‚     - Toutes les burns vÃ©rifiÃ©es                                â”‚
â”‚     - Historique complet                                        â”‚
â”‚                                                                 â”‚
â”‚  âœ… Knowledge Roots (par axiome)                                 â”‚
â”‚     - Merkle roots PHI/VERIFY/CULTURE/BURN                      â”‚
â”‚     - Snapshots pÃ©riodiques                                     â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.2 Ce qui reste OFF-CHAIN

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    OFF-CHAIN (PostgreSQL + DAG)                  â”‚
â”‚                    "Performance et dÃ©tail"                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  ğŸ“¦ Full Judgment Content                                        â”‚
â”‚     - Trop volumineux pour on-chain                             â”‚
â”‚     - RÃ©fÃ©rencÃ© par hash dans PoJ blocks                        â”‚
â”‚                                                                 â”‚
â”‚  ğŸ“¦ Knowledge Patterns (dÃ©tail)                                  â”‚
â”‚     - Content des patterns                                      â”‚
â”‚     - Relations entre patterns                                  â”‚
â”‚     - RÃ©fÃ©rencÃ© par merkle root on-chain                        â”‚
â”‚                                                                 â”‚
â”‚  ğŸ“¦ Session Data                                                 â”‚
â”‚     - Ã‰tat temporaire                                           â”‚
â”‚     - Cache de performance                                      â”‚
â”‚                                                                 â”‚
â”‚  ğŸ“¦ Full Historical Data                                         â”‚
â”‚     - Archive des jugements                                     â”‚
â”‚     - Logs dÃ©taillÃ©s                                            â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.3 Flow Diagram

```
                        CYNIC NODE
                            â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚                 â”‚                 â”‚
          â–¼                 â–¼                 â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Redis   â”‚      â”‚PostgreSQLâ”‚      â”‚  Solana  â”‚
    â”‚  SPEED   â”‚      â”‚  INDEX   â”‚      â”‚  TRUTH   â”‚
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
         â”‚                 â”‚                 â”‚
         â”‚   Ephemeral     â”‚   Queryable     â”‚   Authoritative
         â”‚   < 10min       â”‚   Full data     â”‚   Headers only
         â”‚                 â”‚                 â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚                 â”‚
                  â–¼                 â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚   DAG    â”‚      â”‚  CYNIC   â”‚
            â”‚  PROOF   â”‚â—„â”€â”€â”€â”€â–ºâ”‚ PROGRAM  â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              CIDs            Instructions
```

---

## 6. Implementation Roadmap

### Phase 1: Anchor Program (Rust)
```
[ ] Create Anchor project: programs/cynic
[ ] Define account structures
[ ] Implement instructions:
    - initialize_global
    - register_operator
    - update_e_score
    - record_burn
    - anchor_poj_block
    - create_proposal
    - cast_vote
[ ] Deploy to devnet
[ ] Tests
```

### Phase 2: TypeScript SDK
```
[ ] Create @cynic/solana-sdk
[ ] PDA derivation utilities
[ ] Instruction builders
[ ] Account fetchers
[ ] Integration with @cynic/anchor
```

### Phase 3: Integration
```
[ ] Update PoJ Chain Manager to use program
[ ] Update Operator Registry to sync with on-chain
[ ] Update Burns verification to use on-chain records
[ ] E-Score calculation from on-chain data
```

### Phase 4: Production
```
[ ] Security audit
[ ] Mainnet deployment
[ ] Migration from memo-based anchoring
[ ] Monitoring and alerts
```

---

## 7. Avantages de l'Architecture Hybride

| Aspect | Memo Only | Full On-Chain | Hybride |
|--------|-----------|---------------|---------|
| CoÃ»t | âœ… Minimal | âŒ Ã‰levÃ© | âš¡ OptimisÃ© |
| VÃ©rification | âš ï¸ Merkle proof | âœ… Direct | âœ… Direct pour headers |
| ComposabilitÃ© | âŒ LimitÃ©e | âœ… Maximale | âœ… Pour donnÃ©es critiques |
| Performance | âœ… Rapide | âš ï¸ Latence RPC | âœ… Cache local |
| DÃ©centralisation | âš ï¸ DonnÃ©es centralisÃ©es | âœ… Tout on-chain | âš¡ Critical on-chain |

---

## 8. Conclusion

L'architecture hybride optimale:

1. **On-chain (Solana Accounts)**:
   - Operator Registry (E-scores, burns)
   - PoJ Block Headers (merkle roots)
   - Governance State
   - Burns Source of Truth

2. **Off-chain (PostgreSQL + DAG)**:
   - Full content
   - Historical data
   - Performance cache

3. **Memo anchoring** reste utile pour:
   - Quick anchoring sans program
   - Backup/emergency anchoring
   - Cross-program references

---

*"Onchain is truth" - La vÃ©ritÃ© critique sur Solana, le dÃ©tail en local.*

Ï†â»Â¹ = 61.8% - Max confidence, mÃªme pour l'architecture.

---

## Sources

- [Solana PDA Documentation](https://solana.com/docs/core/pda)
- [Solana Account Model](https://solana.com/docs/core/accounts)
- [Helius: What are Solana PDAs?](https://www.helius.dev/blog/solana-pda)
- [Solana Architecture Guide](https://blog.carbium.io/comprehensive-guide-to-solana-architecture/)
- [Alpenglow Upgrade](https://blog.quicknode.com/solana-alpenglow-upgrade/)
